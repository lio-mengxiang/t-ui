(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1521,(e,r,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},79537,e=>{e.v({AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"})},27208,e=>{e.v({0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"})},73850,e=>{"use strict";var r=e.i(45100);let c=(0,e.i(51849).createIcon)({iconProps:{useFillCurrentColor:!0},viewBox:"0 0 156 94",paths:(0,r.jsx)("path",{d:"M0,31.18h31.18v62.56H0V31.18Zm155.46,5.67v56.89h-31.18V45.36c0-7.83-6.34-14.18-14.17-14.18h-17.01c.29,1.85,.44,3.74,.44,5.67v56.89h-31.18V45.36c0-7.83-6.35-14.18-14.17-14.18H31.18V0h25.51c13.15,0,24.69,6.89,31.21,17.25,2.62,4.15,4.43,8.86,5.2,13.92V0h25.51c20.35,0,36.85,16.5,36.85,36.85Z"})});e.s(["IconMLogo",0,c])},7823,e=>{"use strict";function r(e,r){if(null==e)return{};var c={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;c[n]=e[n]}return c}e.s(["default",()=>r])},37215,e=>{"use strict";function r(){return(r=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>r])},22480,e=>{"use strict";let r=(0,e.i(64334).createContext)({currentId:"",onLinkClick:()=>{},linkMap:{current:new Map}});e.s(["AnchorContext",0,r])},98319,e=>{"use strict";var r=e.i(64334);function c(...e){return(0,r.useCallback)(r=>{e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})},e)}e.s(["useComposedRefs",()=>c])},88036,59013,e=>{"use strict";var r=e.i(45100),c=e.i(64334),n=e.i(22480);function l(e){let r=(0,c.useRef)(null);return r.current=e,(0,c.useCallback)((...e)=>r.current?.(...e),[])}e.s(["useEvent",()=>l],59013);var t=e.i(96224);function s(e,r){try{return e.querySelector(r)}catch(e){return null}}function o({scrollContainer:e,targetId:r,offset:c,isScrolling:n}){var l,o;if(!r)return;let i=s(document,`#${CSS.escape(r)}`);if(!i)return;let d=e.current,u=((void 0===(l=d)&&(l=window),l)&&(l===window?Math.ceil(window.pageYOffset):l.scrollTop)||0)+((e,r)=>{if(!e.getClientRects().length)return 0;let c=e.getBoundingClientRect();return c.width||c.height?r&&r!==window?c.top-r.getBoundingClientRect().top:(r=e.ownerDocument.documentElement,c.top-r.clientTop):c.top})(i,d)+c;(n.current=!0,(0,t.isWindow)(d))?d.scrollTo((void 0===(o=d)&&(o=window),o)&&(o===window?Math.ceil(window.pageXOffset||window.scrollX):o.scrollLeft)||0,u):d.scrollTop=u}function i({targetId:e,linkMap:r,wrapperRef:c,currentId:n,setCurrentId:l,onChange:t}){e&&c.current&&r.current.get(e)&&e!==n&&l(e).then(()=>{t?.(e,n)})}var d=e.i(98319);let u=(0,c.forwardRef)((e,u)=>{let{scrollContainer:a,offset:h=0,children:x,onChange:j,queryKey:p="anchor-id",isCloseInitAnchor:f,...m}=e,{currentId:v,onLinkClick:g,wrapperRef:w,linkMap:b}=function({propScrollContainer:e,onChange:r,offset:n,queryKey:d,isCloseInitAnchor:u}){var a;let h,x,j=(0,c.useRef)(null),p=(0,c.useRef)(null),f=(0,c.useRef)(new Map),m=(0,c.useRef)(!1),[v,g]=function(e){let[r,n]=(0,c.useState)({value:"",resolve:e=>{}});return(0,c.useEffect)(()=>{r.resolve(r.value)},[r]),[r.value,e=>new Promise(r=>{n(c=>{let n=e;return"function"==typeof e&&(n=e(c.value)),{value:n,resolve:r}})})]}(0),w=l(()=>{if(m.current)return;let e=function({linkMap:e,scrollContainer:r}){let c=r.current,n=((0,t.isWindow)(c)?document.documentElement||document.body:c).getBoundingClientRect(),l=Array.from(e.current.keys()),o=[];for(let e of l){let r=s(document,"#"+CSS.escape(e));if(r){let{top:e}=r.getBoundingClientRect(),l=(0,t.isWindow)(c)?e:e-n.top;l>=0&&o.push({element:r,top:l})}}return 0===o.length?null:o.reduce((e,r)=>e.top<=r.top?e:r).element}({linkMap:f,scrollContainer:p});e?.id&&i({targetId:e.id,linkMap:f,wrapperRef:j,currentId:v,setCurrentId:g,onChange:r})}),b=l((a=()=>{w(),m.current=!1},h=null,(x=(...e)=>{h||(h=setTimeout(()=>{h=null,a(...e)},30))}).cancel=()=>{h&&(clearTimeout(h),h=null)},x));return(0,c.useEffect)(()=>(p.current=(0,t.isString)(e)?s(document,e):e||window,p.current?.addEventListener("scroll",b),()=>{p.current?.removeEventListener("scroll",b)}),[b,e]),(0,c.useEffect)(()=>{if(!u)return void b();let e=new URLSearchParams(new URL(window.location.href).search).get(d);e&&(i({targetId:e,linkMap:f,wrapperRef:j,currentId:v,setCurrentId:g,onChange:r}),o({scrollContainer:p,targetId:e,offset:n,isScrolling:m}))},[]),{onScroll:b,currentId:v,onLinkClick:function(e,c){e.preventDefault(),i({targetId:c,linkMap:f,wrapperRef:j,currentId:v,setCurrentId:g,onChange:r}),o({scrollContainer:p,targetId:c,offset:n,isScrolling:m})},wrapperRef:j,scrollContainer:p,linkMap:f}}({propScrollContainer:a,onChange:j,offset:h,queryKey:p,isCloseInitAnchor:f});return(0,r.jsx)(n.AnchorContext.Provider,{value:{currentId:v,linkMap:b,onLinkClick:g},children:(0,r.jsx)("div",{...m,ref:(0,d.useComposedRefs)(w,u),children:x})})});e.s(["Anchor",0,u],88036)},69438,e=>{"use strict";var r=e.i(45100),c=e.i(64334),n=e.i(22480),l=e.i(98319);let t=(0,c.forwardRef)((e,t)=>{let{onLinkClick:s,linkMap:o,currentId:i}=(0,c.useContext)(n.AnchorContext),{onClick:d,targetId:u,children:a,className:h,activeClassName:x,...j}=e,p=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;return e=p.current,u&&o.current.set(u,e),()=>{o.current.delete(u)}},[u,o]),(0,r.jsx)("div",{ref:(0,l.useComposedRefs)(t,p),...j,onClick:e=>{e.stopPropagation(),d?.(e),s?.(e,u)},"data-target-id":u,className:i===u?x:h,children:a})});e.s(["AnchorLink",0,t],69438)},93562,e=>{"use strict";var r=e.i(88036),c=e.i(69438),n=e.i(22480);let l={Root:r.Anchor,Link:c.AnchorLink,Context:n.AnchorContext};e.s(["Anchor",()=>l])},86624,e=>{"use strict";var r=e.i(45100),c=e.i(18694);e.i(82928);var n=e.i(72304),l=e.i(2697),t=e.i(47445),s=e.i(69389);function o(e){let o={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,c.useMDXComponents)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.H1,{children:"Tailwindcss 换肤方案"}),"\n",(0,r.jsx)(l.AvatarM,{}),"\n",(0,r.jsx)(n.ImageTypography,{src:"/solution/theme.webp",fill:!0,alt:"button",containerClassName:"h-96"}),"\n",(0,r.jsx)(o.h2,{children:"介绍"}),"\n",(0,r.jsxs)(o.p,{children:["上篇文章讲了 ",(0,r.jsx)(o.code,{children:"css"})," 的主题色方案，其实 ",(0,r.jsx)(o.code,{children:"Tailwindcss"})," 也可以通过 ",(0,r.jsx)(o.code,{children:"css"})," 变量来实现。原理几乎是一样的，这里我们使用的 ",(0,r.jsx)(o.code,{children:"Tailwindcss"})," 版本是 ",(0,r.jsx)(o.code,{children:"3.x"}),", 主要原因是\n",(0,r.jsx)(o.code,{children:"4.x"})," 版本所支持的浏览器太新了，在国内很容易引起不兼容的问题。但本质上还是借助 ",(0,r.jsx)(o.code,{children:"css"})," 变量实现换肤，懂得原理后，跟版本没什么太大关系。"]}),"\n",(0,r.jsxs)(o.p,{children:["请从上面 ",(0,r.jsx)(o.code,{children:"CSS 换肤方案"})," 了解 ",(0,r.jsx)(o.code,{children:"css 变量换肤方案"})," 的具体实现。这里就不赘述了。实现思路主要分为两层:"]}),"\n",(0,r.jsx)(o.p,{children:"1、局部样式改变"}),"\n",(0,r.jsxs)(o.p,{children:["比如所有的 ",(0,r.jsx)(o.code,{children:"button"})," 默认都是蓝色，但是某个 ",(0,r.jsx)(o.code,{children:"button"})," 我想是黄色，允许单独给 ",(0,r.jsx)(o.code,{children:"button"})," 传递主题色。"]}),"\n",(0,r.jsx)(o.p,{children:"2、全局样式改变"}),"\n",(0,r.jsxs)(o.p,{children:["比如我想对所有的 ",(0,r.jsx)(o.code,{children:"button"})," 的主色都设为绿色，提供一个全局更换颜色配置的入口。"]}),"\n",(0,r.jsx)(o.h2,{children:"实现"}),"\n",(0,r.jsx)(o.h3,{children:"1. 定义 css 变量"}),"\n",(0,r.jsxs)(o.p,{children:["首先我们抽象的业务颜色会放在 ",(0,r.jsx)(o.code,{children:"tailwind.config.ts"}),"(这是 ",(0,r.jsx)(o.code,{children:"tailwindcss 3.x"})," 版本的配置文件，",(0,r.jsx)(o.code,{children:"4.x"})," 版本貌似被移除了)，以下是一个简单的示例，\n包含对业务颜色的定义，以及 ",(0,r.jsx)(o.code,{children:"border"})," 颜色的定义，当然你可以根据自己的业务需要，跟 ",(0,r.jsx)(o.code,{children:"ui"})," 同学对齐所有变量。"]}),"\n",(0,r.jsx)(t.CodeBlock,{code:`import type { Config } from 'tailwindcss';

export default {
content: ['./pages/**/*.{js,ts,jsx,tsx,mdx}', './components/**/*.{js,ts,jsx,tsx,mdx}', './app/**/*.{js,ts,jsx,tsx,mdx}'],
theme: {
  extend: {
    borderColor: () => ({
      color: 'var(--border-color)',
      'color-50': 'var(--border-color-50)',
      'color-100': 'var(--border-color-100)',
      'color-200': 'var(--border-color-200)',
      'color-800': 'var(--border-color-800)',
    }),
    colors: () => ({
      primary: {
        color: 'var(--primary-color-blue-600)',
        hover: 'var(--primary-color-blue-500)',
        focus: 'var(--primary-color-blue-200)',
        active: 'var(--primary-color-blue-700)',
        disabled: 'var(--primary-color-blue-300)',
      },
      warning: {//...},
      error: {//...},
      success: {//...},
    }),
  },
},
plugins: [],
}`,language:"javascript"}),"\n",(0,r.jsxs)(o.p,{children:["我们的可以看到，其中颜色，例如 ",(0,r.jsx)(o.code,{children:"primary"})," 也就是网站品牌的主色调，我分为了"]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"color：常规色"}),"\n",(0,r.jsx)(o.li,{children:"hover: hover 态颜色"}),"\n",(0,r.jsx)(o.li,{children:"focus：聚焦颜色"}),"\n",(0,r.jsx)(o.li,{children:"active：激活态颜色"}),"\n",(0,r.jsx)(o.li,{children:"disabled：禁用态颜色"}),"\n"]}),"\n",(0,r.jsx)(o.h3,{children:"2. 全局样式改变"}),"\n",(0,r.jsxs)(o.p,{children:["其中 ",(0,r.jsx)(o.code,{children:"css"})," 变量的引入，可以在项目入口文件，例如 App.tsx，引入 ",(0,r.jsx)(o.code,{children:"css"})," 变量。"]}),"\n",(0,r.jsxs)(o.p,{children:["例如我们在 html 定义一个自定义属性 ",(0,r.jsx)(o.code,{children:"class"}),"，值为 ",(0,r.jsx)(o.code,{children:"light"})," 或者 ",(0,r.jsx)(o.code,{children:"dark"}),"。"]}),"\n",(0,r.jsx)(t.CodeBlock,{code:`html.light {
  --primary-blue-600: #366ef4;
  --primary-blue-500: #2557e7;
  --primary-blue-200: #c3dafe;
  --primary-blue-700: #204ed6;
  --primary-blue-300: #93c5fd;
  /* .... */
}`,language:"css"}),"\n",(0,r.jsxs)(o.p,{children:["同时，初始化的时候，我们在 html 标签中添加 ",(0,r.jsx)(o.code,{children:"class"})," 属性，值为 ",(0,r.jsx)(o.code,{children:"light"})," 或者 ",(0,r.jsx)(o.code,{children:"dark"}),"，这样我们就可以根据 ",(0,r.jsx)(o.code,{children:"class"})," 的值，来切换主题。"]}),"\n",(0,r.jsx)(t.CodeBlock,{code:'<html class="light"></html>',language:"html"}),"\n",(0,r.jsxs)(o.p,{children:["一般情况，切换主初始化还需要把当前的主题的值存到 ",(0,r.jsx)(o.code,{children:"localStorage"})," 里面。因为 ",(0,r.jsx)(o.code,{children:"SPA"})," 页面初始化 html 是没有内容的，所以是可以在框架里，例如 ",(0,r.jsx)(o.code,{children:"React"})," 中渲染初始化获取到\n",(0,r.jsx)(o.code,{children:"localStorage"})," 的值，赋予 ",(0,r.jsx)(o.code,{children:"html"})," 相应的 ",(0,r.jsx)(o.code,{children:"class"})," 属性。"]}),"\n",(0,r.jsx)(o.h3,{children:"3. 局部样式改变"}),"\n",(0,r.jsxs)(o.p,{children:["局部样式改变很简单，利用 ",(0,r.jsx)(o.code,{children:"css"})," 的优先级机制即可。我们来举一个例子："]}),"\n",(0,r.jsxs)(o.p,{children:["看这一段 ",(0,r.jsx)(o.code,{children:"HTML"}),"："]}),"\n",(0,r.jsx)(t.CodeBlock,{code:`<div class="one">
<div class="two">
  <div class="three"></div>
  <div class="four"></div>
</div>
</div>`,language:"javascript"}),"\n",(0,r.jsx)(o.p,{children:"配套的 CSS："}),"\n",(0,r.jsx)(t.CodeBlock,{code:`.two {
  --test: 10px;
}
.three {
  --test: 2em;
}`,language:"css"}),"\n",(0,r.jsxs)(o.p,{children:["在这个情况下， ",(0,r.jsx)(o.code,{children:"var(--test)"})," 的结果分别是："]}),"\n",(0,r.jsxs)(o.p,{children:["对于元素 ",(0,r.jsx)(o.code,{children:'class="two" ：10px'}),"\n对于元素 ",(0,r.jsx)(o.code,{children:'class="three" ：2em'}),"\n对于元素 ",(0,r.jsx)(o.code,{children:'class="four" ：10px'})," （继承自父属性）\n啥意思呢，就是我的 ",(0,r.jsx)(o.code,{children:"button"})," 组件，我可以默认用全局变量的样式，比如我设置在 ",(0,r.jsx)(o.code,{children:"body"})," 上，然后 ",(0,r.jsx)(o.code,{children:"button"})," 组件包裹一个 ",(0,r.jsx)(o.code,{children:"div"}),"， ",(0,r.jsx)(o.code,{children:"div"})," 上也有同名的一个变量，那么 ",(0,r.jsx)(o.code,{children:"button"})," 组件会优先使用 ",(0,r.jsx)(o.code,{children:"div"})," 上的变量。"]}),"\n",(0,r.jsxs)(o.p,{children:["基于以上原理我可以在 ",(0,r.jsx)(o.code,{children:"button"})," 组件里，直接在 ",(0,r.jsx)(o.code,{children:"style"})," 中用来设置 ",(0,r.jsx)(o.code,{children:"css"})," 变量，代码如下"]}),"\n",(0,r.jsx)(t.CodeBlock,{code:`const localBtnTheme = {
  "--btn-color": "red",
  "--btn-width": 12
};

<div style={{ style, ...localBtnTheme }} >`,language:"javascript"}),"\n",(0,r.jsxs)(o.p,{children:["其中 ",(0,r.jsx)(o.code,{children:"style"})," 是正常外面传给组件的 ",(0,r.jsx)(o.code,{children:"style"}),"， ",(0,r.jsx)(o.code,{children:"localBtnTheme"})," 是指 ",(0,r.jsx)(o.code,{children:"css"})," 变量。所以我们只需要使用跟全局变量定义一样的 ",(0,r.jsx)(o.code,{children:"css"})," 变量，就可以覆盖全局的样式。"]})]})}function i(e={}){let{wrapper:n}={...(0,c.useMDXComponents)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}function d(){return(0,r.jsx)(i,{})}e.s(["ThemTailwindSolution",()=>d],86624)}]);