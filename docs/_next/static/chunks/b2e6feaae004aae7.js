(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55552,e=>{"use strict";var n=e.i(45100);let r=(0,e.i(51849).createIcon)({iconProps:{useFillCurrentColor:!0},viewBox:"0 0 24 24",paths:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12c0 3.542-2.869 3.968-5.512 4.36-1.461.216-2.854.423-3.655 1.14-.846.757-.523 1.895-.227 2.94C13.991 21.8 14.332 23 12 23 5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11zm-2.292-.688a2.062 2.062 0 11-4.125 0 2.062 2.062 0 014.125 0zM14.98 7.876a2.062 2.062 0 100-4.125 2.062 2.062 0 000 4.125zm-4.354-2.063a2.062 2.062 0 11-4.125 0 2.062 2.062 0 014.125 0zm-5.73 7.563a2.062 2.062 0 100-4.125 2.062 2.062 0 000 4.125z"})})});e.s(["IconPlatteFill",0,r])},1521,(e,n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return c}});let c=e=>{}},79537,e=>{e.v({AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"})},27208,e=>{e.v({0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"})},73850,e=>{"use strict";var n=e.i(45100);let r=(0,e.i(51849).createIcon)({iconProps:{useFillCurrentColor:!0},viewBox:"0 0 156 94",paths:(0,n.jsx)("path",{d:"M0,31.18h31.18v62.56H0V31.18Zm155.46,5.67v56.89h-31.18V45.36c0-7.83-6.34-14.18-14.17-14.18h-17.01c.29,1.85,.44,3.74,.44,5.67v56.89h-31.18V45.36c0-7.83-6.35-14.18-14.17-14.18H31.18V0h25.51c13.15,0,24.69,6.89,31.21,17.25,2.62,4.15,4.43,8.86,5.2,13.92V0h25.51c20.35,0,36.85,16.5,36.85,36.85Z"})});e.s(["IconMLogo",0,r])},7823,e=>{"use strict";function n(e,n){if(null==e)return{};var r={};for(var c in e)if(({}).hasOwnProperty.call(e,c)){if(-1!==n.indexOf(c))continue;r[c]=e[c]}return r}e.s(["default",()=>n])},37215,e=>{"use strict";function n(){return(n=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>n])},22480,e=>{"use strict";let n=(0,e.i(64334).createContext)({currentId:"",onLinkClick:()=>{},linkMap:{current:new Map}});e.s(["AnchorContext",0,n])},98319,e=>{"use strict";var n=e.i(64334);function r(...e){return(0,n.useCallback)(n=>{e.forEach(e=>{"function"==typeof e?e(n):null!=e&&(e.current=n)})},e)}e.s(["useComposedRefs",()=>r])},88036,59013,e=>{"use strict";var n=e.i(45100),r=e.i(64334),c=e.i(22480);function t(e){let n=(0,r.useRef)(null);return n.current=e,(0,r.useCallback)((...e)=>n.current?.(...e),[])}e.s(["useEvent",()=>t],59013);var i=e.i(96224);function l(e,n){try{return e.querySelector(n)}catch(e){return null}}function o({scrollContainer:e,targetId:n,offset:r,isScrolling:c}){var t,o;if(!n)return;let s=l(document,`#${CSS.escape(n)}`);if(!s)return;let d=e.current,u=((void 0===(t=d)&&(t=window),t)&&(t===window?Math.ceil(window.pageYOffset):t.scrollTop)||0)+((e,n)=>{if(!e.getClientRects().length)return 0;let r=e.getBoundingClientRect();return r.width||r.height?n&&n!==window?r.top-n.getBoundingClientRect().top:(n=e.ownerDocument.documentElement,r.top-n.clientTop):r.top})(s,d)+r;(c.current=!0,(0,i.isWindow)(d))?d.scrollTo((void 0===(o=d)&&(o=window),o)&&(o===window?Math.ceil(window.pageXOffset||window.scrollX):o.scrollLeft)||0,u):d.scrollTop=u}function s({targetId:e,linkMap:n,wrapperRef:r,currentId:c,setCurrentId:t,onChange:i}){e&&r.current&&n.current.get(e)&&e!==c&&t(e).then(()=>{i?.(e,c)})}var d=e.i(98319);let u=(0,r.forwardRef)((e,u)=>{let{scrollContainer:a,offset:h=0,children:p,onChange:x,queryKey:f="anchor-id",isCloseInitAnchor:m,...j}=e,{currentId:g,onLinkClick:v,wrapperRef:w,linkMap:C}=function({propScrollContainer:e,onChange:n,offset:c,queryKey:d,isCloseInitAnchor:u}){var a;let h,p,x=(0,r.useRef)(null),f=(0,r.useRef)(null),m=(0,r.useRef)(new Map),j=(0,r.useRef)(!1),[g,v]=function(e){let[n,c]=(0,r.useState)({value:"",resolve:e=>{}});return(0,r.useEffect)(()=>{n.resolve(n.value)},[n]),[n.value,e=>new Promise(n=>{c(r=>{let c=e;return"function"==typeof e&&(c=e(r.value)),{value:c,resolve:n}})})]}(0),w=t(()=>{if(j.current)return;let e=function({linkMap:e,scrollContainer:n}){let r=n.current,c=((0,i.isWindow)(r)?document.documentElement||document.body:r).getBoundingClientRect(),t=Array.from(e.current.keys()),o=[];for(let e of t){let n=l(document,"#"+CSS.escape(e));if(n){let{top:e}=n.getBoundingClientRect(),t=(0,i.isWindow)(r)?e:e-c.top;t>=0&&o.push({element:n,top:t})}}return 0===o.length?null:o.reduce((e,n)=>e.top<=n.top?e:n).element}({linkMap:m,scrollContainer:f});e?.id&&s({targetId:e.id,linkMap:m,wrapperRef:x,currentId:g,setCurrentId:v,onChange:n})}),C=t((a=()=>{w(),j.current=!1},h=null,(p=(...e)=>{h||(h=setTimeout(()=>{h=null,a(...e)},30))}).cancel=()=>{h&&(clearTimeout(h),h=null)},p));return(0,r.useEffect)(()=>(f.current=(0,i.isString)(e)?l(document,e):e||window,f.current?.addEventListener("scroll",C),()=>{f.current?.removeEventListener("scroll",C)}),[C,e]),(0,r.useEffect)(()=>{if(!u)return void C();let e=new URLSearchParams(new URL(window.location.href).search).get(d);e&&(s({targetId:e,linkMap:m,wrapperRef:x,currentId:g,setCurrentId:v,onChange:n}),o({scrollContainer:f,targetId:e,offset:c,isScrolling:j}))},[]),{onScroll:C,currentId:g,onLinkClick:function(e,r){e.preventDefault(),s({targetId:r,linkMap:m,wrapperRef:x,currentId:g,setCurrentId:v,onChange:n}),o({scrollContainer:f,targetId:r,offset:c,isScrolling:j})},wrapperRef:x,scrollContainer:f,linkMap:m}}({propScrollContainer:a,onChange:x,offset:h,queryKey:f,isCloseInitAnchor:m});return(0,n.jsx)(c.AnchorContext.Provider,{value:{currentId:g,linkMap:C,onLinkClick:v},children:(0,n.jsx)("div",{...j,ref:(0,d.useComposedRefs)(w,u),children:p})})});e.s(["Anchor",0,u],88036)},69438,e=>{"use strict";var n=e.i(45100),r=e.i(64334),c=e.i(22480),t=e.i(98319);let i=(0,r.forwardRef)((e,i)=>{let{onLinkClick:l,linkMap:o,currentId:s}=(0,r.useContext)(c.AnchorContext),{onClick:d,targetId:u,children:a,className:h,activeClassName:p,...x}=e,f=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var e;return e=f.current,u&&o.current.set(u,e),()=>{o.current.delete(u)}},[u,o]),(0,n.jsx)("div",{ref:(0,t.useComposedRefs)(i,f),...x,onClick:e=>{e.stopPropagation(),d?.(e),l?.(e,u)},"data-target-id":u,className:s===u?p:h,children:a})});e.s(["AnchorLink",0,i],69438)},93562,e=>{"use strict";var n=e.i(88036),r=e.i(69438),c=e.i(22480);let t={Root:n.Anchor,Link:r.AnchorLink,Context:c.AnchorContext};e.s(["Anchor",()=>t])},63861,e=>{"use strict";var n=e.i(45100),r=e.i(18694);e.i(82928);var c=e.i(72304),t=e.i(47445),i=e.i(69389);e.i(73869);var l=e.i(84435);let o=`
function App() {
  return (
    <div style={{ display: 'flex', gap: '8px' }}>
      <TButton status="primary">Button A</TButton>
      <TButton status="primary">Button B</TButton>
      <TButton status="primary">Button C</TButton>
    </div>
  );
}`;function s(){return(0,n.jsx)(l.CodePreview,{code:o})}function d(e){let l={code:"code",h2:"h2",p:"p",...(0,r.useMDXComponents)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.H1,{subheading:"flex 布局的 gap 属性",children:"1 个 CSS 属性实现 Space 组件"}),"\n",(0,n.jsx)(c.ImageTypography,{src:"/space/space.webp",fill:!0,alt:"icon"}),"\n",(0,n.jsx)(l.h2,{children:"前言"}),"\n",(0,n.jsxs)(l.p,{children:["很多时候，我们希望几个按钮排成一排，并且间距相等。这是一个非常常见的需求，此时 ",(0,n.jsx)(l.code,{children:"Space"})," 组件就可以派上用场了。"]}),"\n",(0,n.jsxs)(l.p,{children:["由于 ",(0,n.jsx)(l.code,{children:"flex"})," 布局中 ",(0,n.jsx)(l.code,{children:"gap"})," 属性兼容性越来越好（chrome 84+），所以我们可以使用 ",(0,n.jsx)(l.code,{children:"gap"})," 属性来实现 ",(0,n.jsx)(l.code,{children:"Space"})," 组件。"]}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"Space"})," 组件原理很简单，就是遍历 ",(0,n.jsx)(l.code,{children:"children"}),"，并在每个子元素之间添加一个 ",(0,n.jsx)(l.code,{children:"margin"}),"。但注意的是，例如单行横向布局时， ",(0,n.jsx)(l.code,{children:"margin"})," 不能给最后一个元素的右边添加。"]}),"\n",(0,n.jsxs)(l.p,{children:["更复杂的问题，是",(0,n.jsx)(l.code,{children:"Space"})," 组件往往都会用 ",(0,n.jsx)(l.code,{children:"display: flex"})," 来实现。然后使用 ",(0,n.jsx)(l.code,{children:"flex-wrap: wrap"})," 来实现多行布局。那么最后一行的元素底部也应该不出现 ",(0,n.jsx)(l.code,{children:"margin"}),"。"]}),"\n",(0,n.jsxs)(l.p,{children:["这就会导致一个问题，就是当 ",(0,n.jsx)(l.code,{children:"Space"})," 组件的子元素数量超过一行时，就会出现问题。因为 ",(0,n.jsx)(l.code,{children:"flex-wrap: wrap"})," 会导致子元素换行，就需要动态计算最后一行的元素数量，才能判断是否需要添加 ",(0,n.jsx)(l.code,{children:"margin"}),"。"]}),"\n",(0,n.jsxs)(l.p,{children:["在我们教程出来的时候，",(0,n.jsx)(l.code,{children:"flex"})," 布局的 ",(0,n.jsx)(l.code,{children:"gap"})," 属性兼容性已经很好了，如下，可以很轻松的实现 ",(0,n.jsx)(l.code,{children:"Space"})," 组件。"]}),"\n",(0,n.jsx)(s,{}),"\n",(0,n.jsx)(l.h2,{children:"降级方案"}),"\n",(0,n.jsxs)(l.p,{children:["对于单行很简单，只要遍历所有子元素，并且给所有子元素套一个 ",(0,n.jsx)(l.code,{children:"div"}),"，如果是横向排列，这些 ",(0,n.jsx)(l.code,{children:"div"})," 都加一个 ",(0,n.jsx)(l.code,{children:"margin-right"})," 即可。纵向单行排列同理，加一个 ",(0,n.jsx)(l.code,{children:"margin-bottom"})," 即可。"]}),"\n",(0,n.jsx)(t.CodeBlock,{code:`<div>
  {React.Children.toArray(children).map((child, index) => {
      // 这里可以添加元素间的间隔元素
      const shouldRenderSplit = split !== undefined && split !== null && index > 0;
      return (
        <Fragment key={index}>
          {shouldRenderSplit && <div>{split}</div>}
          // 这里给每个元素包裹一个 div ，然后给 div 添加 margin
          <div className={className}>
            {child}
          </div>
        </Fragment>
      );
  })}
  </div>`,language:"jsx"}),"\n",(0,n.jsxs)(l.p,{children:["复杂性来自于多行，也就是 ",(0,n.jsx)(l.code,{children:"flex-wrap: wrap"}),"。此时对于最后一行， 是否加 ",(0,n.jsx)(l.code,{children:"margin"})," 是一个问题。"]}),"\n",(0,n.jsxs)(l.p,{children:["一种简单的降级方案可以使用字节的 ",(0,n.jsx)(l.code,{children:"arco design"})," 组件库的方法, 对于 ",(0,n.jsx)(l.code,{children:"Space"})," 组件的 ",(0,n.jsx)(l.code,{children:"margin"})," ，干脆换行最后一排，仍然保留 ",(0,n.jsx)(l.code,{children:"margin"}),"，让业务方自己去在容器上使用负 ",(0,n.jsx)(l.code,{children:"margin"})," 来解决这个问题。"]}),"\n",(0,n.jsxs)(l.p,{children:["一种降级方案是阿里的 ",(0,n.jsx)(l.code,{children:"fusion-ui"}),", 干脆自己包裹一个外部容器，使用负的 ",(0,n.jsx)(l.code,{children:"margin"})," 来解决这个问题，也就是肯定会使用负 ",(0,n.jsx)(l.code,{children:"margin"}),"，就看是用户自己处理，还是组件库帮你处理。"]}),"\n",(0,n.jsxs)(l.p,{children:["随着 ",(0,n.jsx)(l.code,{children:"flex"})," 中 ",(0,n.jsx)(l.code,{children:"gap"})," 属性的兼容性越来越好，这个组件逐渐都不太需要单独拿出作为一个组件了。"]}),"\n",(0,n.jsx)(l.h2,{children:"总结"}),"\n",(0,n.jsxs)(l.p,{children:["因为 ",(0,n.jsx)(l.code,{children:"@t-headless-ui/react"})," 是 ",(0,n.jsx)(l.code,{children:"headless"})," 组件，所以是跟样式无关的，所以 ",(0,n.jsx)(l.code,{children:"Space"})," 组件并没有单独拿出作为一个组件。大家可以看下面的案例，自己用 ",(0,n.jsx)(l.code,{children:"css"})," 实现即可。"]}),"\n",(0,n.jsx)(l.p,{children:"最后，欢迎加入到我们的组件库交流群中。有什么疑问都可以在群里讨论，并且会有视频直播每个组件的实现。"}),"\n",(0,n.jsx)(l.p,{children:"更重要的是,我可以帮助你增加一些简历中的核心项目，例如我们这个组件库级别的。无论你是面试初级开发还是到前端技术专家，都会帮助你在面试中脱颖而出。"})]})}function u(e={}){let{wrapper:c}={...(0,r.useMDXComponents)(),...e.components};return c?(0,n.jsx)(c,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}function a(){return(0,n.jsx)(u,{})}e.s(["MustRead",()=>a],63861)}]);