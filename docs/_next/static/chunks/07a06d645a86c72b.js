(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47757,38197,7892,19009,e=>{"use strict";var t=e.i(45100);function n(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("title",{children:"组件库教程社区"}),(0,t.jsx)("meta",{name:"author",content:"孟祥同学"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,t.jsx)("meta",{name:"description",content:"前端动效成长社区，分享前端动效相关的知识和经验，包括 gsap、motion、three.js 等。"}),(0,t.jsx)("meta",{name:"keywords",content:"'前端动效', '前端', '前端动画课程', '前端动画课', '前端动画教程', '前端动画社区', '动效', 'gsap', 'react gsap', 'vue gsap', 'next gsap', 'gsap 3', 'motion', 'framer-motion', 'vue motion', 'vue framer-motion', 'next motion', 'react motion', 'three.js', 'threejs 动画', 'blender', 'blender 动画', 'react-three-fiber', 'three.js 动画', 'three.js 3d'"})]})}e.s(["default",()=>n],47757);let r=0;function i(e,t){return e.find(e=>e.id===t)?.id}function a({maxCount:e=6}={}){let t=[],n=new Set,o=e=>{t=e(t),n.forEach(e=>e())};return{getState:()=>t,subscribe:e=>(n.add(e),()=>{o(()=>[]),n.delete(e)}),add:t=>{let n=t.id?t.id:(r=(r+1)%1001,Date.now().toString(36)+Math.random().toString(36).slice(2)+r);return o(r=>{if(t?.id&&i(r,t.id))return r;let a=[{...t,id:n},...r??[]];return e>0&&a.length>e?a.slice(0,e):a}),t?.id?t?.id:n},update:(e,t)=>{e&&o(n=>{let r=[...n],{index:i}={index:r.findIndex(t=>t.id===e)};return -1!==i&&(r[i]={...r[i],...t}),r})},clearAll:()=>{o(()=>[])},remove:e=>{o(t=>i(t,e)?t.filter(t=>t.id!==e):t)},maxCount:e}}e.s(["createToastStore",()=>a],38197);let o=0,s=(e,t)=>e.findIndex(e=>e.id===t);function l(){let e=[],t=new Set,n=n=>{e=n(e),t.forEach(e=>e())};return{getState:()=>e,subscribe:e=>(t.add(e),()=>{n(()=>[]),t.delete(e)}),add:e=>{let t=e.id?e.id:(o=(o+1)%1001,Date.now().toString(36)+Math.random().toString(36).slice(2)+o);return n(n=>{if(e?.id){let t;if(t=e.id,n.find(e=>e.id===t))return n}return[...n,{...e,id:t}]}),e?.id?e?.id:t},remove:e=>{n(t=>-1===s(t,e)?t:t.filter(t=>t.id!==e))},update:(e,t)=>{e&&n(n=>{let r=[...n],i=s(n,e);return -1!==i&&(r[i]={...r[i],...t}),r})},clearAll:()=>{n(()=>[])}}}e.s(["createModalStore",()=>l],7892),e.s(["DIRECTION",0,{TOP_TO_BOTTOM:"top-to-bottom",BOTTOM_TO_TOP:"bottom-to-top"}],19009)},18557,26242,e=>{"use strict";var t=e.i(64334),n=e.i(52730);function r(e){let t;return"string"==typeof e?t=document.querySelector(e):"object"==typeof e&&e instanceof window.HTMLElement?t=e:t?.nodeType===1?t:document.body}e.s(["getAttach",()=>r],26242),e.s(["Portal",0,e=>{let{attach:i,children:a}=e,[o,s]=(0,t.useState)(null);return((0,t.useEffect)(()=>{s(r(i))},[i]),o)?(0,n.createPortal)(a,o):null}],18557)},97688,10915,24174,e=>{"use strict";var t=e.i(45100),n=e.i(47757),r=e.i(63215),i=e.i(95189),a=e.i(38197),o=e.i(7892),s=e.i(64334),l=e.i(19009),u=e.i(18557),c=e.i(98184),f=e.i(50616),d=e.i(47805),m=e.i(95115);function h(e){return"object"==typeof e&&!Array.isArray(e)}var p=e.i(23810);function y(e,t,n,r){return"string"==typeof e&&h(t)?(0,p.resolveElements)(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function g(e,t,n,r){return"number"==typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?n:r.get(t)??e}var v=e.i(79960),x=e.i(40206);function b(e,t){var n;let r;return(0,x.isEasingArray)(e)?e[n=e.length,((t-0)%(r=n-0)+r)%r+0]:e}var S=e.i(95050);function E(e,t){return e.at!==t.at?e.at-t.at:null===e.value?1:null===t.value?-1:0}var A=e.i(29027),T=e.i(11721),w=e.i(92375),j=e.i(6014),k=e.i(42557),M=e.i(42096),O=e.i(14573);function P(e,t){return t.has(e)||t.set(e,{}),t.get(e)}function I(e,t){return t[e]||(t[e]=[]),t[e]}let C=e=>"number"==typeof e,V=e=>e.every(C);var N=e.i(7738),R=e.i(91260),B=e.i(15812),F=e.i(2740),L=e.i(25133),D=e.i(99969),W=e.i(33841);class H extends W.VisualElement{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(t in e){let n=e[t];if("string"==typeof n||"number"==typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return(0,D.createBox)()}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}}function _(e){let t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=(0,B.isSVGElement)(e)?new F.SVGVisualElement(t):new L.HTMLVisualElement(t);n.mount(e),N.visualElementStore.set(e,n)}function z(e){let t=new H({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),N.visualElementStore.set(e,t)}var K=e.i(49968);function $(e,t,n,r){let i=[];if((0,m.isMotionValue)(e)||"number"==typeof e||"string"==typeof e&&!h(t))i.push((0,K.animateSingleValue)(e,h(t)&&t.default||t,n&&n.default||n));else{let a=y(e,t,r),o=a.length;(0,k.invariant)(!!o,"No valid elements provided.");for(let e=0;e<o;e++){let r=a[e],s=r instanceof Element?_:z;N.visualElementStore.has(r)||s(r);let l=N.visualElementStore.get(r),u={...n};"delay"in u&&"function"==typeof u.delay&&(u.delay=u.delay(e,o)),i.push(...(0,R.animateTarget)(l,{...t,transition:u},{}))}}return i}var q=e.i(57426);class G{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){let t=this.animations.map(t=>t.attachTimeline(e));return()=>{t.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class U extends G{then(e,t){return this.finished.finally(e).then(()=>{})}}function Y(e){return function(t,n,r){let i=[];if(Array.isArray(t)&&t.some(Array.isArray)){let r;r=[],(function(e,{defaultTransition:t={},...n}={},r,i){let a=t.duration||.3,o=new Map,s=new Map,l={},u=new Map,c=0,f=0,d=0;for(let n=0;n<e.length;n++){let o=e[n];if("string"==typeof o){u.set(o,f);continue}if(!Array.isArray(o)){u.set(o.name,g(f,o.at,c,u));continue}let[x,E,M={}]=o;void 0!==M.at&&(f=g(f,M.at,c,u));let C=0,N=(e,n,r,o=0,s=0)=>{var l;let u=Array.isArray(l=e)?l:[l],{delay:c=0,times:m=(0,A.defaultOffset)(u),type:h="keyframes",repeat:p,repeatType:y,repeatDelay:g=0,...x}=n,{ease:E=t.ease||"easeOut",duration:M}=n,P="function"==typeof c?c(o,s):c,I=u.length,N=(0,T.isGenerator)(h)?h:i?.[h];if(I<=2&&N){let e=100;2===I&&V(u)&&(e=Math.abs(u[1]-u[0]));let t={...x};void 0!==M&&(t.duration=(0,O.secondsToMilliseconds)(M));let n=(0,w.createGeneratorEasing)(t,e,N);E=n.ease,M=n.duration}M??(M=a);let R=f+P;1===m.length&&0===m[0]&&(m[1]=1);let B=m.length-u.length;if(B>0&&(0,j.fillOffset)(m,B),1===u.length&&u.unshift(null),p){(0,k.invariant)(p<20,"Repeat count too high, must be less than 20");M*=p+1;let e=[...u],t=[...m],n=[...E=Array.isArray(E)?[...E]:[E]];for(let r=0;r<p;r++){u.push(...e);for(let i=0;i<e.length;i++)m.push(t[i]+(r+1)),E.push(0===i?"linear":b(n,i-1))}for(let e=0;e<m.length;e++)m[e]=m[e]/(p+1)}let F=R+M;!function(e,t,n,r,i,a){for(let t=0;t<e.length;t++){let n=e[t];n.at>i&&n.at<a&&((0,S.removeItem)(e,n),t--)}for(let o=0;o<t.length;o++)e.push({value:t[o],at:(0,v.mixNumber)(i,a,r[o]),easing:b(n,o)})}(r,u,E,m,R,F),C=Math.max(P+M,C),d=Math.max(F,d)};if((0,m.isMotionValue)(x))N(E,M,I("default",P(x,s)));else{let e=y(x,E,r,l),t=e.length;for(let n=0;n<t;n++){let r=P(e[n],s);for(let e in E){var h,p;N(E[e],(h=M,p=e,h&&h[p]?{...h,...h[p]}:{...h}),I(e,r),n,t)}}}c=f,f+=C}return s.forEach((e,r)=>{for(let i in e){let a=e[i];a.sort(E);let s=[],l=[],u=[];for(let e=0;e<a.length;e++){let{at:t,value:n,easing:r}=a[e];s.push(n),l.push((0,M.progress)(0,d,t)),u.push(r||"easeOut")}0!==l[0]&&(l.unshift(0),s.unshift(s[0]),u.unshift("easeInOut")),1!==l[l.length-1]&&(l.push(1),s.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});let c=o.get(r);c.keyframes[i]=s,c.transition[i]={...t,duration:d,ease:u,times:l,...n}}}),o})(t,n,e,{spring:q.spring}).forEach(({keyframes:e,transition:t},n)=>{r.push(...$(n,e,t))}),i=r}else i=$(t,n,r,e);let a=new U(i);return e&&e.animations.push(a),a}}Y();var J=e.i(9362);let Q=e=>{var n;let r,i,{component:a,id:o,stack:l=!1,stackIndex:u=0,stackMaxVisible:c,stackOffset:m=8,stackExpanded:h=!1,direction:p="top-to-bottom"}=e,y=(0,s.useRef)(Promise.resolve()),g=(0,s.useRef)(!0),v=(0,s.useRef)(!0),[x,b]=(r=(0,d.useConstant)(()=>({current:null,animations:[]})),i=(0,d.useConstant)(()=>Y(r)),n=()=>{r.animations.forEach(e=>e.stop())},(0,s.useEffect)(()=>()=>n(),[]),[r,i]),[S,E]=(0,J.usePresence)(),{onMouseEnter:A,onMouseLeave:T,percent:w}=function(e){let[t,n]=(0,s.useState)(0),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(0),{id:l,duration:u,store:c,stackExpanded:f,showProgress:d}=e,m=f||r,h=u>0&&d;return(0,s.useEffect)(()=>{if(!m&&u>0){if(null==u)return null;let e=Date.now()-t,r=setTimeout(()=>{c.remove?.(l)},1e3*u-t);return()=>{clearTimeout(r),n(Date.now()-e)}}},[u,m]),(0,s.useEffect)(()=>{if(!m&&h){let e,n=performance.now(),r=()=>{cancelAnimationFrame(e),e=requestAnimationFrame(e=>{let i=Math.min((e+t-n)/(1e3*u),1);o(100*i),i<1&&r()})};return r(),()=>{cancelAnimationFrame(e)}}},[u,t,m,h]),{onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},percent:a}}(e),j=!l||u<c,k=l?(e=>{let{index:t,maxVisible:n,offset:r,expanded:i,direction:a}=e,o="top-to-bottom"===a;return{initial:{opacity:0,scale:1,y:o?-80:80},animate:{...i?{y:o?80*t:-(80*t),scale:1,opacity:1}:t>=n?{y:o?(n-1)*r:-(n-1)*r,scale:.95-(n-1)*.05,opacity:0}:{y:o?t*r:-t*r,scale:1-.05*t,opacity:1-.1*t}},exit:{opacity:0,scale:.8,y:o?-20:20}}})({index:u,maxVisible:c,offset:m,expanded:h,direction:p}):{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};return((0,s.useEffect)(()=>{if(!l)return;let e="top-to-bottom"===p;S&&x.current?(async()=>{let t=[[x.current,h?{...k.animate,y:e?u*x.current.offsetHeight:-u*x.current.offsetHeight}:k.animate,{duration:.4}]];0===u&&g.current&&(g.current=!1,t.unshift([x.current,k.initial,{duration:0}])),await b(t)})():!S&&x.current&&(async()=>{await b(x.current,k.exit,{duration:.1}),E()})()},[S,x,l,h,u]),(0,s.useEffect)(()=>{if(!l){if(S&&x.current){let e=async()=>{let e=[[x.current,h&&l?{...k.animate,y:u*x.current.offsetHeight}:k.animate,{duration:.4}]];0===u&&v.current&&(v.current=!1,e.unshift([x.current,k.initial,{duration:0}])),await b(e)};y.current.then(()=>{e()})}else if(!S&&x.current){let e=async()=>{await b(x.current,k.exit,{duration:.1}),E()};y.current=y.current.then(()=>e())}}},[S,x,l,h,u]),j||h)?(0,t.jsx)(f.motion.div,{ref:x,layout:!0,onMouseEnter:A,onMouseLeave:T,style:{position:l?"absolute":"relative",top:0,zIndex:l?c-u:"auto"},children:(0,s.cloneElement)(a,{toastPercent:w,closeToast:()=>{e.store.remove(o)}})}):null},X={direction:l.DIRECTION.TOP_TO_BOTTOM,duration:3,stack:!1,stackOffset:8};function Z(e){let n={...X,...e},[r,i]=(0,s.useState)(!1),a=(0,s.useSyncExternalStore)(n.store.subscribe,n.store.getState,n.store.getState);return(0,t.jsx)(u.Portal,{attach:n.attach,children:(0,t.jsx)("div",{...n.containerProps,onMouseEnter:()=>{n.stack&&i(!0)},onMouseLeave:()=>{n.stack&&i(!1)},children:(0,t.jsx)(c.AnimatePresence,{children:a.map((e,i)=>(0,t.jsx)(Q,{duration:n.duration,...e,store:n.store,stack:n.stack,direction:n.direction,stackIndex:i,stackMaxVisible:n.store.maxCount,stackOffset:n.stackOffset,stackExpanded:r},e.id))})})})}e.s(["ToastProvider",()=>Z],10915);let ee={initial:{scale:.96,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.96,opacity:0}},et={initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0}},en={duration:.1},er={duration:.1},ei=({needResetContainerStyle:e,container:t,originContainerStyle:n})=>{if(e.current&&t){let e=n.current;Object.keys(e).forEach(n=>t.style[n]=e[n])}e.current=!1,n.current={}};var ea=e.i(26242);function eo(e){var n;let r,i,{mask:a=()=>!0,focusLock:o=!0,attach:l,afterClose:c,afterOpen:d,content:m,onCancel:h,maskCls:p,maskStyle:y,containerClassName:g,index:v,initialFocusEl:x,contentProps:b}=e,S=(0,s.useRef)(null),E=(0,s.useRef)(null);return((e,t,n={})=>{let{initialFocus:r="none",tabbableElements:i=""}=n,a=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(t&&e.current){let t=e.current;a.current=document.activeElement,a.current?.blur();let n=t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), area[href], form, audio[controls], video[controls], [tabindex="0"]'+i),o=n.length;if(0===o)return;let s=n[0],l=n[o-1];"fist"===r?s.focus():"number"==typeof r?(r<0&&console.error(`initialFocus cannot be a negative number: you entered ${r}`),r>=o&&console.error(`initialFocus cannot be greater than or equal to the total number of focusable elements within the target: you entered ${r}`),n[r].focus()):"none"===r||console.error(`initialFocus must be either the values 'first', 'none', or a number. You specified initialFocus as ${typeof r}`);let u=e=>{if("Tab"===e.key){let t=document.activeElement,n=t=>(t.focus(),e.preventDefault());e.shiftKey||t!==l||n(s),e.shiftKey&&t===s&&n(l)}};return t.addEventListener("keydown",u),()=>{a.current.focus(),t.removeEventListener("keydown",u)}}},[e.current,t])})(E,o),n=a(v),r=(0,s.useRef)(!1),i=(0,s.useRef)({}),(0,s.useEffect)(()=>{let e=(0,ea.getAttach)(l);return n?(({container:e,needResetContainerStyle:t,originContainerStyle:n})=>{if(e&&"hidden"!==e.style.overflow){let r=e.style;t.current=!0;let i="BODY"===e.tagName?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):e.offsetWidth-e.clientWidth;i&&(n.current.width=r.width,e.style.width=`calc(${e.style.width||"100%"} - ${i}px)`),n.current.overflow=r.overflow,e.style.overflow="hidden"}})({needResetContainerStyle:r,originContainerStyle:i,container:e}):ei({needResetContainerStyle:r,originContainerStyle:i,container:e}),()=>{ei({needResetContainerStyle:r,originContainerStyle:i,container:e})}},[l,n]),(0,s.useEffect)(()=>{setTimeout(()=>{S.current?.focus({preventScroll:!0}),x?.()},0)},[]),(0,t.jsx)(u.Portal,{attach:l,children:(0,t.jsxs)("div",{tabIndex:-1,ref:S,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),h?.())},children:[a(v)?(0,t.jsx)(f.motion.div,{className:p,style:y,animate:"animate",exit:"exit",variants:et,initial:"initial",transition:en,onClick:()=>{a&&setTimeout(()=>{h?.()},100)}}):null,(0,t.jsx)("div",{className:g,children:(0,t.jsx)(f.motion.div,{onClick:e=>{e.stopPropagation()},tabIndex:-1,role:"dialog",variants:ee,animate:"animate",transition:er,exit:"exit",initial:"initial",onAnimationComplete:e=>{"animate"===e&&d?.(),"exit"===e&&c?.()},children:o?(0,t.jsx)("div",{ref:E,children:(0,s.cloneElement)(m,b)}):(0,s.cloneElement)(m,b)})})]})})}function es({store:e,maskCls:n,maskStyle:r,focusLock:i}){let a=(0,s.useSyncExternalStore)(e.subscribe,e.getState,e.getState);return(0,t.jsx)(c.AnimatePresence,{children:a?.map((e,t)=>(0,s.createElement)(eo,{...e,maskCls:void 0===n?e.maskCls:n,maskStyle:void 0===r?e.maskStyle:r,focusLock:void 0===i?e.focusLock:i,key:e.id,index:t}))})}e.s(["ModalProvider",()=>es],24174),e.i(37247);var el=e.i(57828);let eu=(0,a.createToastStore)(),ec=(0,o.createModalStore)(),ef=(0,a.createToastStore)({maxCount:6}),ed=(0,a.createToastStore)({maxCount:3});function em({children:e}){return(0,t.jsxs)("html",{lang:"zh",suppressHydrationWarning:!0,children:[(0,t.jsx)(n.default,{}),(0,t.jsx)("body",{className:"text-color bg-color font-sans",children:(0,t.jsxs)(i.NextLocalStorage,{scriptContent:(e,t)=>{let n=localStorage.getItem(t)||e;localStorage.setItem(t,n),document.documentElement.setAttribute("class",n)},defaultTheme:r.config.defaultTheme,children:[e,(0,t.jsx)(Z,{store:eu,containerProps:{className:(0,el.cs)("w-full fixed top-8 flex flex-col items-center pointer-events-none","z-message")}}),(0,t.jsx)(Z,{store:ed,containerProps:{className:(0,el.cs)("w-full fixed bottom-28 flex flex-col items-end pr-12 pointer-events-none","z-message")},direction:"bottom-to-top",stack:!0}),(0,t.jsx)(Z,{store:ef,containerProps:{className:(0,el.cs)("w-full fixed bottom-12 flex flex-col items-end pr-12 pointer-events-none","z-message")},direction:"bottom-to-top"}),(0,t.jsx)(es,{store:ec})]})})]})}e.s(["default",()=>em,"modalStore",0,ec,"toastBottomStackStore",0,ed,"toastBottomStore",0,ef,"toastStore",0,eu],97688)}]);