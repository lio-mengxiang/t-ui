<!DOCTYPE html><!--rCCpH5bWYoOEh0RMrEWFu--><html lang="zh"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/t-ui/_next/static/chunks/c57f25d7aa6d6db9.css" data-precedence="next"/><link rel="stylesheet" href="/t-ui/_next/static/chunks/ec8a10aa2b532d44.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/t-ui/_next/static/chunks/b7d1a55b3ef39bbc.js"/><script src="/t-ui/_next/static/chunks/d73d48e9c9019a53.js" async=""></script><script src="/t-ui/_next/static/chunks/58e91072423a7497.js" async=""></script><script src="/t-ui/_next/static/chunks/619b8494be332a80.js" async=""></script><script src="/t-ui/_next/static/chunks/turbopack-3398aa5b1c6b1faa.js" async=""></script><script src="/t-ui/_next/static/chunks/d821eddc5a83a14d.js" async=""></script><script src="/t-ui/_next/static/chunks/a45895e8a6f72ee9.js" async=""></script><script src="/t-ui/_next/static/chunks/07a06d645a86c72b.js" async=""></script><script src="/t-ui/_next/static/chunks/b23f918aef2ac772.js" async=""></script><script src="/t-ui/_next/static/chunks/1b0efe442c7186ad.js" async=""></script><script src="/t-ui/_next/static/chunks/e3930c948565c1d1.js" async=""></script><script src="/t-ui/_next/static/chunks/1ebf659cd03b1565.js" async=""></script><script src="/t-ui/_next/static/chunks/eff6c15934d8a455.js" async=""></script><script src="/t-ui/_next/static/chunks/1ec246868d6b1088.js" async=""></script><title>组件库教程社区</title><meta name="author" content="孟祥同学"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="前端动效成长社区，分享前端动效相关的知识和经验，包括 gsap、motion、three.js 等。"/><meta name="keywords" content="&#x27;前端动效&#x27;, &#x27;前端&#x27;, &#x27;前端动画课程&#x27;, &#x27;前端动画课&#x27;, &#x27;前端动画教程&#x27;, &#x27;前端动画社区&#x27;, &#x27;动效&#x27;, &#x27;gsap&#x27;, &#x27;react gsap&#x27;, &#x27;vue gsap&#x27;, &#x27;next gsap&#x27;, &#x27;gsap 3&#x27;, &#x27;motion&#x27;, &#x27;framer-motion&#x27;, &#x27;vue motion&#x27;, &#x27;vue framer-motion&#x27;, &#x27;next motion&#x27;, &#x27;react motion&#x27;, &#x27;three.js&#x27;, &#x27;threejs 动画&#x27;, &#x27;blender&#x27;, &#x27;blender 动画&#x27;, &#x27;react-three-fiber&#x27;, &#x27;three.js 动画&#x27;, &#x27;three.js 3d&#x27;"/><link rel="icon" href="/t-ui/favicon.ico?favicon.176b088f.ico" sizes="128x128" type="image/x-icon"/><script src="/t-ui/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="text-color bg-color font-sans"><div hidden=""><!--$--><!--/$--></div><script>
   ((a,b)=>{let c=localStorage.getItem(b)||a;localStorage.setItem(b,c),document.documentElement.setAttribute("class",c)})('light', 'theme');
  </script><!--$?--><template id="B:0"></template><div class="flex items-center justify-center h-screen bg-white"><div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-opacity-70"></div></div><!--/$--><script>requestAnimationFrame(function(){$RT=performance.now()});</script><script src="/t-ui/_next/static/chunks/b7d1a55b3ef39bbc.js" id="_R_" async=""></script><div hidden id="S:0"><div class="px-6 py-2 bg-gradient-to-r from-pink-500/15 via-purple-500/10 to-blue-500/15 text-[#9b8691] flex justify-center text-sm">组件仍在补充, 欢迎加群交流哦，微信: a2298613245</div><nav class="sticky top-0 w-full flex justify-between items-center pl-6 pr-6 h-16 border-b border-solid border-color bg-color z-[999]"><div class="text-sm flex cursor-pointer items-center"><svg class="text-4xl" width="1em" height="1em" focusable="false" stroke="none" fill="currentColor" viewBox="0 0 300 300"><g filter="url(#filter0_dddi_801_107)"><path d="M8.34992 62.1685L12.5726 37.1704C15.4175 20.3286 30.0033 8 47.0837 8H251.245C263.762 8 273.204 19.369 270.904 31.6738L266.839 53.4291C263.744 69.993 249.285 82 232.435 82H182.535C177.284 82 172.765 85.7115 171.744 90.8625L138.384 259.273C134.674 278.004 118.241 291.5 99.1464 291.5H96.5109C78.8888 291.5 65.6476 275.416 69.0322 258.122L101.4 92.7285C102.488 87.1698 98.2322 82 92.5679 82H25.1124C14.5924 82 6.5977 72.5416 8.34992 62.1685Z" fill="url(#paint0_linear_801_107)"></path></g><defs><filter id="filter0_dddi_801_107" x="0.10791" y="0" width="295.143" height="315.5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="2" dy="2"></feOffset><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.235294 0 0 0 0 0.607843 0 0 0 0 0.882353 0 0 0 1 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_801_107"></feBlend><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="12" dy="12"></feOffset><feGaussianBlur stdDeviation="6"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"></feColorMatrix><feBlend mode="normal" in2="effect1_dropShadow_801_107" result="effect2_dropShadow_801_107"></feBlend><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="4" dy="4"></feOffset><feGaussianBlur stdDeviation="6"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"></feColorMatrix><feBlend mode="normal" in2="effect2_dropShadow_801_107" result="effect3_dropShadow_801_107"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect3_dropShadow_801_107" result="shape"></feBlend><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dx="-1" dy="-1"></feOffset><feGaussianBlur stdDeviation="1"></feGaussianBlur><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.14 0"></feColorMatrix><feBlend mode="normal" in2="shape" result="effect4_innerShadow_801_107"></feBlend></filter><linearGradient id="paint0_linear_801_107" x1="86.5" y1="8" x2="140" y2="259" gradientUnits="userSpaceOnUse"><stop stop-color="#6CC5FB"></stop><stop offset="1" stop-color="#4DADEE"></stop></linearGradient></defs></svg><span class="text-xl mt-[6px] text-nowrap">headless <span class="text-primary-hover dark:text-[#4cc3fa]">ui</span></span></div><div class="flex gap-x-2 items-center"><div class="mr-2"><div class="hover:bg-slate-50 px-2 py-0.5 text-sm border border-color rounded-lg"><div class="cursor-pointer"><div style="overflow:hidden;display:flex;flex-direction:column"><div style="display:flex"><span class="line1">导</span><span class="line1"> </span><span class="line1">航</span></div></div></div></div><div class="menu-overlay fixed top-0 left-0 w-screen h-screen px-6 py-5 bg-[#f6c646] z-[2] flex" style="clip-path:polygon(0 0, 100% 0, 100% 0, 0 0)"><div class="absolute group bottom-20 left-1/2 g active:text-slate-400 px-4 py-2 rounded-md cursor-pointer w-7 h-7 flex justify-center items-center bg-[#0a0a0a] text-[#f5c747]"><div class="group-hover:rotate-180 duration-300">✕</div></div><div class="mt-2 px-12 w-full font-geist-sans"><div class="text-[#fff99f] mb-10">组件还在补充中，希望能够帮助你有一个亮点项目放入简历！</div><div class="md:w-1/4 w-full text-[#191919]"><div class="h-[1px] w-full bg-[#5f5635] overflow-hidden mb-[6px]"></div><div class="px-1"><div class="text-base text-black/40"></div><div class="mt-[24px]"><div class="text-xl tracking-wide cursor-pointer "><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">全局方案</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">按钮 Button</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">图标 Icon</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">布局 Grid</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">间距 Space</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">输入框 Input</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">弹窗 Modal</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">弹出框 Popover</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">消息 Toast</span></div><div class="text-xl tracking-wide cursor-pointer mt-3"><span class="relative after:absolute after:bg-black after:bottom-[-2px] after:left-0 after:h-[2px] after:w-full after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300">警告 Alert</span></div></div></div></div></div></div></div><a class="inline-flex relative items-center justify-center outline-none h-8 text-sm appearance-none select-none cursor-pointer whitespace-nowrap transition-all duration-200 ease-linear box-border rounded text-color hover:bg-color-100 active:bg-color-200 focus-visible:border-color border border-transparent border-solid pl-2 pr-2" href="https://github.com/lio-mengxiang/t-ui" target="_blank"><svg width="20px" height="20px" focusable="false" stroke="none" fill="currentColor" viewBox="0 0 48 48"><path fill-rule="evenodd" clip-rule="evenodd" d="M24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4ZM0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.1833 45.4716C18.9898 45.2219 18.9898 42.9973 19.1833 38.798C17.1114 38.8696 15.8024 38.7258 15.2563 38.3667C14.437 37.828 13.6169 36.1667 12.8891 34.9959C12.1614 33.8251 10.5463 33.64 9.89405 33.3783C9.24182 33.1165 9.07809 32.0496 11.6913 32.8565C14.3044 33.6634 14.4319 35.8607 15.2563 36.3745C16.0806 36.8883 18.0515 36.6635 18.9448 36.2519C19.8382 35.8403 19.7724 34.3078 19.9317 33.7007C20.1331 33.134 19.4233 33.0083 19.4077 33.0037C18.5355 33.0037 13.9539 32.0073 12.6955 27.5706C11.437 23.134 13.0581 20.2341 13.9229 18.9875C14.4995 18.1564 14.4485 16.3852 13.7699 13.6737C16.2335 13.3589 18.1347 14.1343 19.4734 16.0001C19.4747 16.0108 21.2285 14.9572 24.0003 14.9572C26.772 14.9572 27.7553 15.8154 28.5142 16.0001C29.2731 16.1848 29.88 12.7341 34.5668 13.6737C33.5883 15.5969 32.7689 18.0001 33.3943 18.9875C34.0198 19.9749 36.4745 23.1147 34.9666 27.5706C33.9614 30.5413 31.9853 32.3523 29.0384 33.0037C28.7005 33.1115 28.5315 33.2855 28.5315 33.5255C28.5315 33.8856 28.9884 33.9249 29.6465 35.6117C30.0853 36.7362 30.117 39.948 29.7416 45.247C28.7906 45.4891 28.0508 45.6516 27.5221 45.7347C26.5847 45.882 25.5669 45.9646 24.5669 45.9965C23.5669 46.0284 23.2196 46.0248 21.837 45.8961C20.9154 45.8103 20.0308 45.6688 19.1833 45.4716Z"></path></svg></a><button class="inline-flex relative items-center justify-center outline-none h-8 text-sm appearance-none select-none cursor-pointer whitespace-nowrap transition-all duration-200 ease-linear box-border rounded text-color hover:bg-color-100 active:bg-color-200 focus-visible:border-color border border-transparent border-solid pl-2 pr-2" type="button"><div class="w-5 h-5 bg-color-200 border border-solid rounded"></div></button></div></nav><main class="flex w-full"><div class="sticky top-[60px] overflow-hidden pt-4 pl-3 border-r border-solid border-color shrink-0 h-[calc(100vh_-_60px)] transition-all duration-300 ease-in-out" style="width:250px"><div class="z-0 h-[calc(100vh-60px)] overflow-auto" style="visibility:visible"><div><div><div class="hover:bg-color-50 pt-3 pb-3 pl-4 pr-4 cursor-pointer flex justify-between items-center mb-0.5 rounded w-full"><span class="flex items-center gap-x-2"><svg class="text-[#4cc3fa]" width="1.4em" height="1.4em" focusable="false" stroke="none" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 3.542-2.869 3.968-5.512 4.36-1.461.216-2.854.423-3.655 1.14-.846.757-.523 1.895-.227 2.94C13.991 21.8 14.332 23 12 23 5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11zm-2.292-.688a2.062 2.062 0 11-4.125 0 2.062 2.062 0 014.125 0zM14.98 7.876a2.062 2.062 0 100-4.125 2.062 2.062 0 000 4.125zm-4.354-2.063a2.062 2.062 0 11-4.125 0 2.062 2.062 0 014.125 0zm-5.73 7.563a2.062 2.062 0 100-4.125 2.062 2.062 0 000 4.125z"></path></svg> 换肤方案</span><svg width="1em" height="1em" focusable="false" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M36 18L24 30L12 18" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div style="overflow:hidden;height:0px"><div><div class="pt-3 pb-3 pl-4 pr-4 hover:bg-color-50  cursor-pointer rounded mb-1 w-full"><span class="flex items-center text-sm font-light"><div style="width:2.4em"></div>CSS 换肤方案</span></div><div class="pt-3 pb-3 pl-4 pr-4 hover:bg-color-50  cursor-pointer rounded mb-1 w-full"><span class="flex items-center text-sm font-light"><div style="width:2.4em"></div>Tailwind 换肤方案</span></div><div class="pt-3 pb-3 pl-4 pr-4 hover:bg-color-50  cursor-pointer rounded mb-1 w-full"><span class="flex items-center text-sm font-light"><div style="width:2.4em"></div>Next.js 换肤方案</span></div></div></div></div></div></div><div class="fixed flex items-center justify-center text-lg text-color-500 border border-color-500 rounded-full p-1 bg-color top-56 translate-y-[-50%] cursor-pointer transition-all duration-300 ease-in-out" style="left:236px"><svg width="1em" height="1em" focusable="false" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M31 36L19 24L31 12" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><div class="grow shrink basis-0 overflow-hidden mx-16 mt-8 mb-12"><h1 class="font-medium mb-8 text-[36px]" id="Next.js 换肤方案">Next.js 换肤方案<div class="text-xl font-normal text-color-400"></div></h1>
<div class="flex gap-4 items-center"><div class="inline-flex items-center justify-center relative box-border bg-color-800 w-10 h-10 rounded-[50%] text-color-50"><svg width="1em" height="1em" focusable="false" stroke="none" fill="currentColor" viewBox="0 0 156 94"><path d="M0,31.18h31.18v62.56H0V31.18Zm155.46,5.67v56.89h-31.18V45.36c0-7.83-6.34-14.18-14.17-14.18h-17.01c.29,1.85,.44,3.74,.44,5.67v56.89h-31.18V45.36c0-7.83-6.35-14.18-14.17-14.18H31.18V0h25.51c13.15,0,24.69,6.89,31.21,17.25,2.62,4.15,4.43,8.86,5.2,13.92V0h25.51c20.35,0,36.85,16.5,36.85,36.85Z"></path></svg></div><div class="text-color flex flex-col text-sm"><span>孟祥_成都 🔥</span><span class="text-color-400">前端技术专家，全栈开发工程师</span></div></div>
<div class="w-full relative mt-8 mb-8 h-96"><img alt="button" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/t-ui/solution/theme.webp"/></div>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="介绍">介绍</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">之前介绍了 <a class="text-blue-600 underline underline-offset-2 hover:text-blue-800 hover:underline transition-colors duration-200 cursor-pointer" href="/solution/theme/css" target="_blank" rel="noreferrer">Css 换肤方案</a> 和 <a class="text-blue-600 underline underline-offset-2 hover:text-blue-800 hover:underline transition-colors duration-200 cursor-pointer" href="/solution/theme/tailwind" target="_blank" rel="noreferrer">Tailwind 换肤方案</a>，其实这两种都是基于普通的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SPA</code> 架构的页面，毕竟国内 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SPA</code> 还是主流。但在国外 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">Next.js</code> 这种全栈框架非常流行。（
我个人不太喜欢用这种框架，Nextjs 也只是主要是用其 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SSG</code> 的功能，这种框架对于简单的后端来说还挺方便的，但是复杂度一旦上去了，<code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">Next.js</code> 对于 react 有非常多限制，而且后端性能并不出色，所以
我通常还是喜欢前后端分离的架构，后端用正常的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">Node.js</code> 框架即可）。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8"><code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">next.js</code>的主题色和国际化都远不如 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SPA</code> 页面那样容易，因为 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SPA</code>（单页Web应用） 页面的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">HTML</code> 都是靠 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">javascript</code> 生成的，那么我们在
所以我们在 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">React</code> 、 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">Vue</code> 等等这些框架中，可以先获得 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">localstorage</code> 中的主题值，然后再赋值给 html 的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">class</code> 属性，然后框架在第一次初始化时，渲染出 html 元素。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">但是 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">next.js</code> 它是已经生成好 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">HTML</code> 了，我们如果还使用 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">SPA</code> 架构那套在 js 中注入 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS</code> 变量，就会出现页面刚开始没有主题色，然后闪一下，换颜色。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">所以我们必须要在 HTML 呈现之前，就把 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS</code> 注入，这就是一个技术难题了。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">在 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">next.js</code> 中有一个库叫做 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">next-themes</code>, 专门解决这个问题。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">我把这个库的逻辑精简了很多，自己手写了一个精简版用到了自己的项目中，接下来我就来介绍一下主要实现逻辑。</p>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="css 变量换肤思路">css 变量换肤思路</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">上面的两篇文章其实已经讲了很多 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS</code> 变量的换肤思路的，请从上面 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS 换肤方案</code> 这篇文章了解具体思路。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">简单来说就是：</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">我们在 html 标签中添加 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">class</code> 属性，值为 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">light</code> 或者 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">dark</code>，这样我们就可以根据 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">class</code> 的值，来切换主题。</p>
<div class="relative w-full text-sm undefined"><div class="shrink-0 grow basis-0" style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:20px;margin:0;overflow:auto;border-radius:6px;background:#1d1f21;max-height:400px;font-size:0.875rem"><code class="language-html" style="white-space:pre;color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">1</span><span class="token" style="color:#c5c8c6">&lt;</span><span class="token" style="color:#96CBFE">html</span><span class="token" style="color:#96CBFE"> </span><span class="token" style="color:#A8FF60">class</span><span class="token attr-equals" style="color:#c5c8c6">=</span><span class="token" style="color:#c5c8c6">&quot;</span><span class="token" style="color:#F9EE98">light</span><span class="token" style="color:#c5c8c6">&quot;</span><span class="token" style="color:#c5c8c6">&gt;</span><span class="token" style="color:#c5c8c6">&lt;/</span><span class="token" style="color:#96CBFE">html</span><span class="token" style="color:#c5c8c6">&gt;</span></span></code></div></div>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">然后所有主题需要的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS</code> 变量定义如下，例如亮色主题为：</p>
<div class="relative w-full text-sm undefined"><div class="shrink-0 grow basis-0" style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:20px;margin:0;overflow:auto;border-radius:6px;background:#1d1f21;max-height:400px;font-size:0.875rem"><code class="language-css" style="white-space:pre;color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">1</span><span class="token" style="color:#A8FF60">html</span><span class="token class" style="color:#A8FF60">.light</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">2</span><span>  </span><span class="token" style="color:#C6C5FE">--primary-blue-600</span><span class="token" style="color:#c5c8c6">:</span><span> </span><span class="token hexcode color">#366ef4</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">3</span><span>  </span><span class="token" style="color:#C6C5FE">--primary-blue-500</span><span class="token" style="color:#c5c8c6">:</span><span> </span><span class="token hexcode color">#2557e7</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">4</span><span>  </span><span class="token" style="color:#C6C5FE">--primary-blue-200</span><span class="token" style="color:#c5c8c6">:</span><span> </span><span class="token hexcode color">#c3dafe</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">5</span><span>  </span><span class="token" style="color:#C6C5FE">--primary-blue-700</span><span class="token" style="color:#c5c8c6">:</span><span> </span><span class="token hexcode color">#204ed6</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">6</span><span>  </span><span class="token" style="color:#C6C5FE">--primary-blue-300</span><span class="token" style="color:#c5c8c6">:</span><span> </span><span class="token hexcode color">#93c5fd</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">7</span><span>  </span><span class="token" style="color:#7C7C7C">/* .... */</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">8</span><span></span><span class="token" style="color:#c5c8c6">}</span></span></code></div></div>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="服务器端获取不到 localstorage">服务器端获取不到 localstorage</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">因为 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">next.js</code> 是在服务器已经渲染好 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">HTML</code> 了，所以我们在服务器端是获取不到 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">localStorage</code> 的。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这就意味着无论是 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">vue</code> 还是 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">react</code> 初次渲染当然在服务端拿不到客户端的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">localStorage</code>。可 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">CSS 变量</code> 换肤，需要初始化的时候获取到客户端的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">localstorage</code>。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这可怎么办呢？</p>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="Script 阻塞 dom 渲染">Script 阻塞 dom 渲染</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这是一个面试常见的问题，就是 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">script</code> 标签是否会阻塞 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">DOM</code> 渲染？</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">如果不考虑 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">script</code> 标签的 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">async</code> 和 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">defer</code> 属性，<code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">script</code> 会阻塞 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">DOM</code> 渲染。
所以一般 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">script</code> 标签建议放到 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">body</code> 标签之后，这样可以避免阻塞 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">DOM</code> 渲染。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">但是这里我们反而要反之其道行之，把 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">script</code> 放到 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">head</code> 标签上，这样我们就可以在页面渲染前，更改 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">HTML</code> 属性。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这就是我们初始化页面 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">HTML</code> 的思路。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">类似如下的代码：</p>
<div class="relative w-full text-sm undefined"><div class="shrink-0 grow basis-0" style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:20px;margin:0;overflow:auto;border-radius:6px;background:#1d1f21;max-height:400px;font-size:0.875rem"><code class="language-javascript" style="white-space:pre;color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">1</span><span class="token" style="color:#7C7C7C">// defaultTheme 是值默认主题色，themeKey 是指 localStorage 中的主题色的 key 值</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">2</span><span></span><span class="token" style="color:#96CBFE">const</span><span> </span><span class="token function-variable" style="color:#DAD085">script</span><span> </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token parameter literal-property" style="color:#96CBFE">defaultTheme</span><span class="token parameter" style="color:#EDEDED">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">ThemeTypeProps</span><span class="token parameter" style="color:#c5c8c6">,</span><span class="token parameter"> </span><span class="token parameter literal-property" style="color:#96CBFE">themeKey</span><span class="token parameter" style="color:#EDEDED">:</span><span class="token parameter"> string</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token arrow" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">3</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> theme </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token dom" style="color:#C6C5FE">localStorage</span><span class="token" style="color:#c5c8c6">.</span><span class="token method property-access" style="color:#DAD085">getItem</span><span class="token" style="color:#c5c8c6">(</span><span>themeKey</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">||</span><span> defaultTheme</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">4</span><span>  </span><span class="token dom" style="color:#C6C5FE">localStorage</span><span class="token" style="color:#c5c8c6">.</span><span class="token method property-access" style="color:#DAD085">setItem</span><span class="token" style="color:#c5c8c6">(</span><span>themeKey</span><span class="token" style="color:#c5c8c6">,</span><span> theme</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">5</span><span>  </span><span class="token dom" style="color:#C6C5FE">document</span><span class="token" style="color:#c5c8c6">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#c5c8c6">.</span><span class="token method property-access" style="color:#DAD085">setAttribute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;class&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> theme</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">6</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">7</span></span></code></div></div>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="封装为 React 组件">封装为 React 组件</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">上面虽然解决了初始化的问题，但是毕竟是 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">React</code> 组件，我们给子组件共享当前的主题是什么和修改主题的方法。</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">所以我们可以用 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">React Context</code> 来实现。</p>
<div class="relative w-full text-sm undefined"><div class="shrink-0 grow basis-0" style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:20px;margin:0;overflow:auto;border-radius:6px;background:#1d1f21;max-height:400px;font-size:0.875rem"><code class="language-typescript" style="white-space:pre;color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">1</span><span class="token" style="color:#96CBFE">const</span><span> </span><span class="token function-variable maybe-class-name" style="color:#DAD085">NextLocalStorage</span><span> </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span> defaultTheme</span><span class="token" style="color:#c5c8c6">,</span><span> children</span><span class="token" style="color:#c5c8c6">,</span><span> nonce</span><span class="token" style="color:#c5c8c6">,</span><span> scriptContent</span><span class="token" style="color:#c5c8c6">,</span><span> themeKey </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#99CC99">THEME</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token maybe-class-name">LocalstorageProviderProps</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token arrow" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">2</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span>theme</span><span class="token" style="color:#c5c8c6">,</span><span> setTheme</span><span class="token" style="color:#c5c8c6">]</span><span> </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token generic-function" style="color:#DAD085">useState</span><span class="token generic-function generic" style="color:#EDEDED;text-decoration:underline">&lt;</span><span class="token generic-function generic maybe-class-name" style="color:#FFFFB6;text-decoration:underline">ThemeTypeProps</span><span class="token generic-function generic" style="color:#FFFFB6;text-decoration:underline"> </span><span class="token generic-function generic" style="color:#EDEDED;text-decoration:underline">|</span><span class="token generic-function generic" style="color:#FFFFB6;text-decoration:underline"> </span><span class="token generic-function generic nil" style="color:#96CBFE;text-decoration:underline">undefined</span><span class="token generic-function generic" style="color:#EDEDED;text-decoration:underline">&gt;</span><span class="token" style="color:#c5c8c6">(</span><span class="token nil" style="color:#96CBFE">undefined</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">3</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> setThemeState </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#DAD085">useCallback</span><span class="token" style="color:#c5c8c6">(</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">4</span><span>    </span><span class="token" style="color:#c5c8c6">(</span><span>value</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token maybe-class-name">ThemeTypeProps</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token arrow" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">5</span><span>      </span><span class="token" style="color:#DAD085">setTheme</span><span class="token" style="color:#c5c8c6">(</span><span>value</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">6</span><span>      </span><span class="token" style="color:#7C7C7C">// 然后修改 localstorage 的信息</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">7</span><span>      </span><span class="token" style="color:#DAD085">saveToLS</span><span class="token" style="color:#c5c8c6">(</span><span>themeKey</span><span class="token" style="color:#c5c8c6">,</span><span> value</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">8</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">9</span><span>    </span><span class="token" style="color:#c5c8c6">[</span><span>themeKey</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">10</span><span>  </span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">11</span><span>  </span><span class="token" style="color:#DAD085">useEffect</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token arrow" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">12</span><span>    </span><span class="token" style="color:#7C7C7C">// 后续 theme 变化，更新 html class 对应的主题样式</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">13</span><span>    </span><span class="token control-flow" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#EDEDED">!</span><span>theme</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token control-flow" style="color:#96CBFE">return</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">14</span><span>    </span><span class="token dom" style="color:#C6C5FE">document</span><span class="token" style="color:#c5c8c6">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#c5c8c6">.</span><span class="token property-access">classList</span><span> </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#A8FF60">&#x27;&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">15</span><span>    </span><span class="token dom" style="color:#C6C5FE">document</span><span class="token" style="color:#c5c8c6">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#c5c8c6">.</span><span class="token property-access">classList</span><span class="token" style="color:#c5c8c6">.</span><span class="token method property-access" style="color:#DAD085">add</span><span class="token" style="color:#c5c8c6">(</span><span>theme </span><span class="token module" style="color:#96CBFE">as</span><span> </span><span class="token maybe-class-name">ThemeTypeProps</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">16</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span>theme</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">17</span><span>  </span><span class="token" style="color:#7C7C7C">// 共享当前主题色和修改主题的方法给子组件用</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">18</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> providerValue </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#DAD085">useMemo</span><span class="token" style="color:#c5c8c6">(</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">19</span><span>    </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token arrow" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">20</span><span>      theme</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">21</span><span>      themeKey</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">22</span><span>      setThemeState</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">23</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">24</span><span>    </span><span class="token" style="color:#c5c8c6">[</span><span>setThemeState</span><span class="token" style="color:#c5c8c6">,</span><span> theme</span><span class="token" style="color:#c5c8c6">,</span><span> themeKey</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">25</span><span>  </span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">26</span><span>  </span><span class="token control-flow" style="color:#96CBFE">return</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">27</span><span>    </span><span class="token" style="color:#EDEDED">&lt;</span><span class="token maybe-class-name">LocalstorageContext</span><span> value</span><span class="token" style="color:#EDEDED">=</span><span class="token" style="color:#c5c8c6">{</span><span>providerValue</span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#EDEDED">&gt;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">28</span><span>      </span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#7C7C7C">/* ThemeScript 组件就是注入 script 初始化主题的组件 */</span><span class="token" style="color:#c5c8c6">}</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">29</span><span>      </span><span class="token" style="color:#EDEDED">&lt;</span><span class="token maybe-class-name">ThemeScript</span><span> </span><span class="token" style="color:#EDEDED">/</span><span class="token" style="color:#EDEDED">&gt;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">30</span><span>      </span><span class="token" style="color:#c5c8c6">{</span><span>children</span><span class="token" style="color:#c5c8c6">}</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">31</span><span>    </span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#EDEDED">/</span><span class="token maybe-class-name">LocalstorageContext</span><span class="token" style="color:#EDEDED">&gt;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">32</span><span>  </span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">33</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">34</span></span></code></div></div>
<h2 class="font-medium mb-8 mt-8 text-[28px]" id="细节注意">细节注意</h2>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">就是如果我们浏览器开了多个标签，那么如何实现，当某个标签的主题切换之后，另一个标签页的主题也能更新呢？</p>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这里我们可以利用 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">storage</code> 事件来处理。用法如下</p>
<div class="relative w-full text-sm undefined"><div class="shrink-0 grow basis-0" style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:20px;margin:0;overflow:auto;border-radius:6px;background:#1d1f21;max-height:400px;font-size:0.875rem"><code class="language-typescript" style="white-space:pre;color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#7C7C7C">1</span><span class="token dom" style="color:#C6C5FE">window</span><span class="token" style="color:#c5c8c6">.</span><span class="token method property-access" style="color:#DAD085">addEventListener</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&quot;storage&quot;</span><span class="token" style="color:#c5c8c6">,</span><span> handleStorage</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#99CC99">false</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></span></code></div></div>
<p class="leading-8 break-all whitespace-normal mb-8 mt-8">这里我们可以注册一个 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">handleStorage</code>, 用来上面已经定义好的修改主题的方法 <code class="font-normal inline-block whitespace-nowrap bg-color-100 text-color-500 rounded-sm px-2 py-0.5 text-xs">setThemeState</code> 来通知所有页签。</p></div><div class="hidden z-10 xl:flex xl:w-48 mt-8 pl-0 shrink-0"><div class="sticky top-[90px] overflow-y-auto h-[calc(100vh-100px)]"><div data-target-id="基础使用"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3">基础使用</div><div data-target-id="Tailwind CSS 版本"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3 ml-2">Tailwind CSS 版本</div></div><div data-target-id="非 Tailwind CSS 版本"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3 ml-2">非 Tailwind CSS 版本</div></div></div><div data-target-id="进阶封装"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3">进阶封装</div></div><div data-target-id="附录"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3">附录</div><div data-target-id="安装 button"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3 ml-2">安装 button</div></div><div data-target-id="引入 button"><div class="text-color-500 text-[12px] cursor-pointer hover:text-primary-color mb-3 ml-2">引入 button</div></div></div></div></div><!--$--><!--/$--></main></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[40104,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"ClientSegmentRoot\"]\n3:I[97688,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\"],\"default\"]\n4:I[65932,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"default\"]\n5:I[20542,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"default\"]\n7:I[25435,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\"],\"default\"]\n9:I[42121,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\",\"/t-ui/_next/static/chunks/eff6c15934d8a455.js\",\"/t-ui/_next/static/chunks/1ec246868d6b1088.js\"],\"ThemeNextSolution\"]\na:I[88036,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\",\"/t-ui/_next/static/chunks/eff6c15934d8a455.js\",\"/t-ui/_next/static/chunks/1ec246868d6b1088.js\"],\"Anchor\"]\nb:I[69438,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\",\"/t-ui/_next/static/chunks/eff6c15934d8a455.js\",\"/t-ui/_next/static/chunks/1ec246868d6b1088.js\"],\"AnchorLink\"]\nc:I[37812,[\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\",\"/t-ui/_next/static/chunks/eff6c15934d8a455.js\",\"/t-ui/_next/static/chunks/1ec246868d6b1088.js\"],\"LinkItem\"]\nd:I[6861,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"OutletBoundary\"]\ne:\"$Sreact.suspense\"\n12:I[56272,[],\"default\"]\n:HL[\"/t-ui/_next/static/chunks/c57f25d7aa6d6db9.css\",\"style\"]\n:HL[\"/t-ui/_next/static/chunks/ec8a10aa2b532d44.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"rCCpH5bWYoOEh0RMrEWFu\",\"c\":[\"\",\"solution\",\"theme\",\"next\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"solution\",{\"children\":[\"theme\",{\"children\":[\"next\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/t-ui/_next/static/chunks/c57f25d7aa6d6db9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/t-ui/_next/static/chunks/07a06d645a86c72b.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/t-ui/_next/static/chunks/b23f918aef2ac772.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/t-ui/_next/static/chunks/1b0efe442c7186ad.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L2\",null,{\"Component\":\"$3\",\"slots\":{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"serverProvidedParams\":{\"params\":{},\"promises\":[\"$@6\"]}}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/t-ui/_next/static/chunks/e3930c948565c1d1.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/t-ui/_next/static/chunks/1ebf659cd03b1565.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L2\",null,{\"Component\":\"$7\",\"slots\":{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"serverProvidedParams\":{\"params\":\"$0:f:0:1:0:props:children:1:props:serverProvidedParams:params\",\"promises\":[\"$@8\"]}}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"div\",null,{\"className\":\"grow shrink basis-0 overflow-hidden mx-16 mt-8 mb-12\",\"children\":[\"$\",\"$L9\",null,{}]}],[\"$\",\"div\",null,{\"className\":\"hidden z-10 xl:flex xl:w-48 mt-8 pl-0 shrink-0\",\"children\":[\"$\",\"$La\",null,{\"offset\":-90,\"className\":\"sticky top-[90px] overflow-y-auto h-[calc(100vh-100px)]\",\"children\":[[\"$\",\"$Lb\",\"基础使用\",{\"targetId\":\"基础使用\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":{\"level\":2,\"text\":\"基础使用\",\"items\":[{\"level\":3,\"text\":\"Tailwind CSS 版本\"},{\"level\":3,\"text\":\"非 Tailwind CSS 版本\"}]}}],[[\"$\",\"$Lb\",\"Tailwind CSS 版本\",{\"targetId\":\"Tailwind CSS 版本\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":\"$0:f:0:1:1:children:1:children:1:children:1:children:0:props:children:0:1:props:children:props:children:0:props:children:0:props:item:items:0\"}],null]}],[\"$\",\"$Lb\",\"非 Tailwind CSS 版本\",{\"targetId\":\"非 Tailwind CSS 版本\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":\"$0:f:0:1:1:children:1:children:1:children:1:children:0:props:children:0:1:props:children:props:children:0:props:children:0:props:item:items:1\"}],null]}]]]}],[\"$\",\"$Lb\",\"进阶封装\",{\"targetId\":\"进阶封装\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":{\"level\":2,\"text\":\"进阶封装\"}}],null]}],[\"$\",\"$Lb\",\"附录\",{\"targetId\":\"附录\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":{\"level\":2,\"text\":\"附录\",\"items\":[{\"level\":3,\"text\":\"安装 button\"},{\"level\":3,\"text\":\"引入 button\"}]}}],[[\"$\",\"$Lb\",\"安装 button\",{\"targetId\":\"安装 button\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":\"$0:f:0:1:1:children:1:children:1:children:1:children:0:props:children:0:1:props:children:props:children:2:props:children:0:props:item:items:0\"}],null]}],[\"$\",\"$Lb\",\"引入 button\",{\"targetId\":\"引入 button\",\"children\":[[\"$\",\"$Lc\",null,{\"item\":\"$0:f:0:1:1:children:1:children:1:children:1:children:0:props:children:0:1:props:children:props:children:2:props:children:0:props:item:items:1\"}],null]}]]]}]]}]}]],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/t-ui/_next/static/chunks/ec8a10aa2b532d44.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/t-ui/_next/static/chunks/eff6c15934d8a455.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/t-ui/_next/static/chunks/1ec246868d6b1088.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@f\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false]},[[\"$\",\"div\",\"l\",{\"className\":\"flex items-center justify-center h-screen bg-white\",\"children\":\"$L10\"}],[],[]],false,false],\"$L11\",false]],\"m\":\"$undefined\",\"G\":[\"$12\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"13:I[6861,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"ViewportBoundary\"]\n15:I[6861,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"MetadataBoundary\"]\n10:[\"$\",\"div\",null,{\"className\":\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-opacity-70\"}]\n11:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L13\",null,{\"children\":\"$@14\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L15\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@16\"}]}]}],null]}]\n6:\"$0:f:0:1:0:props:children:1:props:serverProvidedParams:params\"\n8:\"$0:f:0:1:0:props:children:1:props:serverProvidedParams:params\"\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"17:I[83528,[\"/t-ui/_next/static/chunks/d821eddc5a83a14d.js\",\"/t-ui/_next/static/chunks/a45895e8a6f72ee9.js\"],\"IconMark\"]\n16:[[\"$\",\"link\",\"0\",{\"rel\":\"icon\",\"href\":\"/t-ui/favicon.ico?favicon.176b088f.ico\",\"sizes\":\"128x128\",\"type\":\"image/x-icon\"}],[\"$\",\"$L17\",\"1\",{}]]\nf:null\n"])</script></body></html>